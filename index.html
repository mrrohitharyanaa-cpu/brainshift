<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Math Empire</title>

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#141e30,#243b55);
color:white;
}

header{
padding:15px;
text-align:center;
font-size:20px;
background:#0f2027;
font-weight:bold;
}

.screen{
display:none;
padding:20px;
padding-bottom:80px;
}

.active{display:block;}

.card{
background:rgba(255,255,255,0.08);
padding:20px;
border-radius:15px;
margin:15px auto;
max-width:420px;
box-shadow:0 8px 20px rgba(0,0,0,0.5);
text-align:center;
}

button{
padding:10px 20px;
border:none;
border-radius:20px;
margin:5px;
background:#00ffcc;
color:black;
font-weight:bold;
cursor:pointer;
}

input{
padding:10px;
border-radius:10px;
border:none;
width:80%;
font-size:16px;
margin:5px;
}

nav{
position:fixed;
bottom:0;
width:100%;
display:flex;
background:#111;
}

nav button{
flex:1;
background:none;
color:white;
border:none;
padding:15px;
font-size:13px;
}
</style>
</head>
<body>

<header>Math Empire</header>

<!-- LOGIN -->
<div id="login" class="screen active">
<div class="card">
<h3>Login</h3>
<input type="text" id="loginUser" placeholder="Username">
<input type="password" id="loginPass" placeholder="Password">
<br>
<button onclick="login()">Login</button>
<p>Don't have account?</p>
<button onclick="showScreen('register')">Register</button>
</div>
</div>

<!-- REGISTER -->
<div id="register" class="screen">
<div class="card">
<h3>Register</h3>
<input type="text" id="regUser" placeholder="Username">
<input type="password" id="regPass" placeholder="Password">
<br>
<button onclick="register()">Create Account</button>
<button onclick="showScreen('login')">Back to Login</button>
</div>
</div>

<!-- HOME -->
<div id="home" class="screen">
<div class="card">
<h3>Welcome <span id="username"></span></h3>
<p>Level: <span id="level">1</span></p>
<p>Coins: <span id="coins">0</span></p>
<button onclick="showScreen('levels')">Play Levels</button>
<button onclick="logout()">Logout</button>
</div>
</div>

<!-- LEVELS -->
<div id="levels" class="screen">
<div class="card">
<h3>Select Level</h3>
<div id="levelList"></div>
</div>
</div>

<!-- GAME -->
<div id="game" class="screen">
<div class="card">
<h3 id="question"></h3>
<input type="number" id="answer" placeholder="Answer">
<br>
<button onclick="submitAnswer()">Submit</button>
<p>Score: <span id="score">0</span></p>
</div>
</div>

<!-- PROFILE -->
<div id="profile" class="screen">
<div class="card">
<h3>Profile</h3>
<p>Name: <span id="profileName"></span></p>
<p>Level: <span id="profileLevel"></span></p>
<p>Coins: <span id="profileCoins"></span></p>
</div>
</div>

<!-- PRIVACY -->
<div id="privacy" class="screen">
<div class="card">
<h3>Privacy Policy</h3>
<p>We store basic user data locally in your browser. No personal data is shared.</p>
</div>
</div>

<!-- TERMS -->
<div id="terms" class="screen">
<div class="card">
<h3>Terms & Conditions</h3>
<p>By using this app, you agree to follow fair gameplay rules.</p>
</div>
</div>

<nav>
<button onclick="showScreen('home')">Home</button>
<button onclick="showScreen('levels')">Levels</button>
<button onclick="showScreen('profile')">Profile</button>
<button onclick="showScreen('privacy')">Privacy</button>
<button onclick="showScreen('terms')">Terms</button>
</nav>

<script>
let currentUser=null;
let correctAnswer;
let score=0;

function showScreen(id){
document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
document.getElementById(id).classList.add('active');
}

function register(){
let user=document.getElementById("regUser").value;
let pass=document.getElementById("regPass").value;

if(user && pass){
localStorage.setItem("user_"+user,JSON.stringify({
password:pass,
level:1,
coins:0
}));
alert("Account Created");
showScreen("login");
}
}

function login(){
let user=document.getElementById("loginUser").value;
let pass=document.getElementById("loginPass").value;
let data=localStorage.getItem("user_"+user);

if(data){
let userData=JSON.parse(data);
if(userData.password===pass){
currentUser=user;
loadUserData();
showScreen("home");
}else{
alert("Wrong Password");
}
}else{
alert("User Not Found");
}
}

function logout(){
currentUser=null;
showScreen("login");
}

function loadUserData(){
let data=JSON.parse(localStorage.getItem("user_"+currentUser));
document.getElementById("username").innerText=currentUser;
document.getElementById("profileName").innerText=currentUser;
document.getElementById("profileLevel").innerText=data.level;
document.getElementById("profileCoins").innerText=data.coins;
document.getElementById("level").innerText=data.level;
document.getElementById("coins").innerText=data.coins;
generateLevelButtons(data.level);
}

function generateLevelButtons(maxLevel){
let levelDiv=document.getElementById("levelList");
levelDiv.innerHTML="";
for(let i=1;i<=maxLevel;i++){
levelDiv.innerHTML+=`<button onclick="startGame(${i})">Level ${i}</button>`;
}
}

function startGame(level){
score=0;
generateQuestion(level);
showScreen("game");
}

function generateQuestion(level){
let num1=Math.floor(Math.random()*level*10)+1;
let num2=Math.floor(Math.random()*level*10)+1;
correctAnswer=num1+num2;
document.getElementById("question").innerText=
"Level "+level+": "+num1+" + "+num2+" = ?";
}

function submitAnswer(){
let ans=parseInt(document.getElementById("answer").value);
if(ans===correctAnswer){
score++;
let data=JSON.parse(localStorage.getItem("user_"+currentUser));
data.level++;
data.coins+=5;
localStorage.setItem("user_"+currentUser,JSON.stringify(data));
alert("Correct! Level Up!");
loadUserData();
showScreen("home");
}else{
alert("Wrong Answer");
}
document.getElementById("answer").value="";
}
</script>

</body>
</html>
